Table "cache" {
  "key" varchar(255) [pk, not null]
  "value" mediumtext [not null]
  "expiration" int [not null]
}

Table "cache_locks" {
  "key" varchar(255) [pk, not null]
  "owner" varchar(255) [not null]
  "expiration" int [not null]
}

Table "failed_jobs" {
  "id" "bigint unsigned" [pk, not null, increment]
  "uuid" varchar(255) [unique, not null]
  "connection" text [not null]
  "queue" text [not null]
  "payload" longtext [not null]
  "exception" longtext [not null]
  "failed_at" timestamp [not null, default: `CURRENT_TIMESTAMP`]
}

Table "feedback" {
  "id" "bigint unsigned" [pk, not null, increment]
  "question_id" "bigint unsigned"
  "identitas_id" "bigint unsigned"
  "unit_id" "bigint unsigned"
  "topic_id" "bigint unsigned"
  "answer" text [not null]
  "comment" text
  "tahun" int
  "created_at" timestamp
  "updated_at" timestamp
}

Table "identitas" {
  "id" "bigint unsigned" [pk, not null, increment]
  "no_hp" varchar(255) [not null]
  "jenis_kelamin" varchar(1) [not null]
  "usia" int [not null]
  "pendidikan" varchar(255) [not null]
  "pekerjaan" varchar(255) [not null]
  "tanggal_survei" date [not null]
  "jam_survei" time [not null]
  "unit_layanan_id" "bigint unsigned"
  "selected_topics" json
  "created_at" timestamp
  "updated_at" timestamp
  "ikm" decimal(5,2)
  "kategori_mutu" varchar(50)
}

Table "identitas_topic" {
  "id" "bigint unsigned" [pk, not null, increment]
  "identitas_id" "bigint unsigned" [not null]
  "topic_id" "bigint unsigned" [not null]
  "created_at" timestamp
  "updated_at" timestamp

  Indexes {
    (identitas_id, topic_id) [unique, name: "identitas_topic_identitas_id_topic_id_unique"]
  }
}

Table "job_batches" {
  "id" varchar(255) [pk, not null]
  "name" varchar(255) [not null]
  "total_jobs" int [not null]
  "pending_jobs" int [not null]
  "failed_jobs" int [not null]
  "failed_job_ids" longtext [not null]
  "options" mediumtext
  "cancelled_at" int
  "created_at" int [not null]
  "finished_at" int
}

Table "jobs" {
  "id" "bigint unsigned" [pk, not null, increment]
  "queue" varchar(255) [not null]
  "payload" longtext [not null]
  "attempts" "tinyint unsigned" [not null]
  "reserved_at" "int unsigned"
  "available_at" "int unsigned" [not null]
  "created_at" "int unsigned" [not null]

  Indexes {
    queue [type: btree, name: "jobs_queue_index"]
  }
}

Table "migrations" {
  "id" "int unsigned" [pk, not null, increment]
  "migration" varchar(255) [not null]
  "batch" int [not null]
}

Table "password_reset_tokens" {
  "email" varchar(255) [pk, not null]
  "token" varchar(255) [not null]
  "created_at" timestamp
}

Table "questions" {
  "id" "bigint unsigned" [pk, not null, increment]
  "topic_id" "bigint unsigned" [not null]
  "order" int
  "text" varchar(255) [not null]
  "answer_options" json
  "created_at" timestamp
  "updated_at" timestamp
  "unsur" varchar(255)
  "type" varchar(255)
}

Table "sessions" {
  "id" varchar(255) [pk, not null]
  "user_id" "bigint unsigned"
  "ip_address" varchar(45)
  "user_agent" text
  "payload" longtext [not null]
  "last_activity" int [not null]

  Indexes {
    last_activity [type: btree, name: "sessions_last_activity_index"]
    user_id [type: btree, name: "sessions_user_id_index"]
  }
}

Table "topics" {
  "id" "bigint unsigned" [pk, not null, increment]
  "name" varchar(255) [unique, not null]
  "is_default" tinyint(1) [not null, default: 0]
  "category" varchar(255)
  "is_active" tinyint(1) [not null, default: 1]
  "created_at" timestamp
  "updated_at" timestamp
}

Table "unit_layanan" {
  "id" "bigint unsigned" [pk, not null, increment]
  "nama_unit" varchar(255) [not null]
  "deskripsi" text
  "created_at" timestamp
  "updated_at" timestamp
}

Table "users" {
  "id" "bigint unsigned" [pk, not null, increment]
  "name" varchar(255) [not null]
  "email" varchar(255) [unique, not null]
  "email_verified_at" timestamp
  "password" varchar(255) [not null]
  "remember_token" varchar(100)
  "created_at" timestamp
  "updated_at" timestamp
}

Ref "feedback_identitas_id_foreign":"identitas"."id" < "feedback"."identitas_id" [delete: set null]

Ref "feedback_question_id_foreign":"questions"."id" < "feedback"."question_id" [delete: set null]

Ref "feedback_topic_id_foreign":"topics"."id" < "feedback"."topic_id" [delete: set null]

Ref "feedback_unit_id_foreign":"unit_layanan"."id" < "feedback"."unit_id" [delete: set null]

Ref "identitas_unit_layanan_id_foreign":"unit_layanan"."id" < "identitas"."unit_layanan_id" [delete: set null]

Ref "identitas_topic_identitas_id_foreign":"identitas"."id" < "identitas_topic"."identitas_id" [delete: cascade]

Ref "identitas_topic_topic_id_foreign":"topics"."id" < "identitas_topic"."topic_id" [delete: cascade]

Ref "questions_topic_id_foreign":"topics"."id" < "questions"."topic_id" [delete: cascade]
